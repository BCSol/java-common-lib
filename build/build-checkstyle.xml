<?xml version="1.0" encoding="UTF-8" ?>
<!-- vim: set tabstop=8 shiftwidth=4 expandtab filetype=ant : -->
<project name="checkstyle" basedir="."
        xmlns:cs="antlib:com.puppycrawl.tools.checkstyle">

    <!-- Targets for running Checkstyle. -->

    <!-- Keep this file synchronized between SoSy-Lab Common, CPAchecker and VerifierCloud. -->

    <target name="checkstyle" depends="resolve-dependencies">
        <path id="checkstyle.lib.path">
            <fileset dir="${ivy.lib.dir}/checkstyle" includes="*.jar"/>
        </path>
        <taskdef resource="checkstyletask.properties" uri="antlib:com.puppycrawl.tools.checkstyle" classpathref="checkstyle.lib.path"/>

        <cs:checkstyle config=".settings/checkstyle.xml">
            <fileset dir="${source.dir}" includes="**/*.java" excludes="**/*Test.java"/>
            <formatter type="xml" toFile="Checkstyle.xml"/>
        </cs:checkstyle>
        <xslt in="Checkstyle.xml" out="Checkstyle.html" style="build/checkstyle.xsl"/>

        <cs:checkstyle config=".settings/checkstyle.test.xml">
            <fileset dir="${source.dir}" includes="**/*Test.java"/>
            <formatter type="xml" toFile="Checkstyle.Test.xml"/>
        </cs:checkstyle>
        <xslt in="Checkstyle.Test.xml" out="Checkstyle.Test.html" style="build/checkstyle.xsl"/>
    </target>
</project>
